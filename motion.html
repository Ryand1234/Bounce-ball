<!DOCTYPE html>
<html>
	<head> 
		<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
		<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script> 
		<script type="text/javascript">
			var H = 50;
			window.onload = function () {
			var chart = new CanvasJS.Chart("chartContainer", { 
			title: {
			text: "Bounce Ball"
			},
			  axisX:{

			  	title: "Distance",
					interval: 10
				},
			data: [
			{
			title: "Height",
			type: "spline",
			dataPoints: [
				{ x: 10, y: 50 },
				{ x: 20, y: 0 },
				{ x: 30, y: 25 },
				{ x: 40, y: 0 },
				{ x: 50, y: 12.5 },
				{ x: 60, y: 0 },
				{ x: 70, y:  6.25 }	
			]
			}
			]
			});
			chart.render();	
			var angleValue = 30;
			var velocityValue = 45;

			var velocity = document.getElementById("velocity");
			var angle = document.getElementById("angle");
			var velocityValueDom = document.getElementById('velocity-value');
			var angleValueDom = document.getElementById('angle-value');
			velocityValueDom.innerHTML = velocity.value;
			angleValueDom.innerHTML = angle.value;
			const g = 10;

			function getTanFromDegrees(degrees) {
				return Math.tan(degrees * Math.PI / 180);
			}

			function getSecFromDegrees(degrees) {
				return 1/(Math.cos(degrees * Math.PI / 180));
			}


			function height(angle, g, velocity, x){
				let SecnTerm = x*getTanFromDegrees(angle);
				let firsTerm = (Math.pow(x,2)*g*Math.pow(getSecFromDegrees(angle), 2))/(2*Math.pow(velocity, 2))


				return SecnTerm - firsTerm;
			}

			velocity.oninput = function() {

			velocityValue = this.value;
			velocityValueDom.innerHTML = velocityValue;
			chart.options.title.text = "Velocity value Changed";
			var h, j = 10;
			h = H
			var result = new Array();
			for(var k = 0; k < 20; k++){
				j = j + 10;
				h = height(angleValue, g, velocityValue, j);
				if(h < 0){
					h = 0;
				}
				result.push({x: j, y: h});
			}

			chart.options.data[0].dataPoints = result;
			chart.render();
			}

			angle.oninput = function() {

			angleValue = this.value;
			angleValueDom.innerHTML = angleValue;
			chart.options.title.text = "Angle value Changed";
			var h, j = 10;
			h = H
			var result = new Array();
			for(var k = 0; k < 20; k++){
				j = j + 10;
				h = height(angleValue, g, velocityValue, j);
				if(h < 0){
					h = 0;
				}
				result.push({x: j, y: h});
			}

			chart.options.data[0].dataPoints = result;
			chart.render();
			}


			}
		</script>
	</head> 
	<body>
		<div id="chartContainer" style="width:100%; height:280px"></div>  
		<input type="range" min="0" max="80" step="5" value="15" class="slider" id="velocity">
		<input type="range" min="0" max="90" step="1" value="45" class="slider" id="angle">
		<p>Velocity is <span id="velocity-value"></span></p>
		<p>Angle is <span id="angle-value"></span></p>
		<p>Default Height is 50</p>
	</body>
</html>
